/*!
 * iro.js v5.0.0
 * 2016-2019 James Daniel
 * Licensed under MPL 2.0
 * github.com/jaames/iro.js
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).iro=e()}(this,function(){"use strict";var w,a,e,n,s,x={},k=[],r=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|^--/i;function S(t,e){for(var n in e)t[n]=e[n];return t}function y(t){var e=t.parentNode;e&&e.removeChild(t)}function c(t,e,n){var r,o,i,s,l=arguments;if(e=S({},e),3<arguments.length)for(n=[n],r=3;r<arguments.length;r++)n.push(l[r]);if(null!=n&&(e.children=n),null!=t&&null!=t.defaultProps)for(o in t.defaultProps)void 0===e[o]&&(e[o]=t.defaultProps[o]);return s=e.key,null!=(i=e.ref)&&delete e.ref,null!=s&&delete e.key,u(t,e,s,i)}function u(t,e,n,r){var o={type:t,props:e,key:n,ref:r,__k:null,__p:null,__b:0,__e:null,l:null,__c:null,constructor:void 0};return w.vnode&&w.vnode(o),o}function M(t){return t.children}function T(t,e){this.props=t,this.context=e}function b(t,e){if(null==e)return t.__p?b(t.__p,t.__p.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if(null!=(n=t.__k[e])&&null!=n.__e)return n.__e;return"function"==typeof t.type?b(t):null}function h(t){var e,n;if(null!=(t=t.__p)&&null!=t.__c){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if(null!=(n=t.__k[e])&&null!=n.__e){t.__e=t.__c.base=n.__e;break}return h(t)}}function o(t){(!t.__d&&(t.__d=!0)&&1===a.push(t)||n!==w.debounceRendering)&&(n=w.debounceRendering,(w.debounceRendering||e)(i))}function i(){var t,e,n,r,o,i,s,l;for(a.sort(function(t,e){return e.__v.__b-t.__v.__b});t=a.pop();)t.__d&&(r=n=void 0,i=(o=(e=t).__v).__e,s=e.__P,l=e.u,e.u=!1,s&&(n=[],r=m(s,o,S({},o),e.__n,void 0!==s.ownerSVGElement,null,n,l,null==i?b(o):i),d(n,o),r!=i&&h(o)))}function E(e,n,t,r,o,i,s,l,a){var u,h,c,f,p,d,v,g=t&&t.__k||k,_=g.length;if(l==x&&(l=null!=i?i[0]:_?b(t,0):null),u=0,n.__k=A(n.__k,function(t){if(null!=t){if(t.__p=n,t.__b=n.__b+1,null===(c=g[u])||c&&t.key==c.key&&t.type===c.type)g[u]=void 0;else for(h=0;h<_;h++){if((c=g[h])&&t.key==c.key&&t.type===c.type){g[h]=void 0;break}c=null}if(f=m(e,t,c=c||x,r,o,i,s,null,l,a),(h=t.ref)&&c.ref!=h&&(v=v||[]).push(h,t.__c||f,t),null!=f){if(null==d&&(d=f),null!=t.l)f=t.l,t.l=null;else if(i==c||f!=l||null==f.parentNode){t:if(null==l||l.parentNode!==e)e.appendChild(f);else{for(p=l,h=0;(p=p.nextSibling)&&h<_;h+=2)if(p==f)break t;e.insertBefore(f,l)}"option"==n.type&&(e.value="")}l=f.nextSibling,"function"==typeof n.type&&(n.l=f)}}return u++,t}),n.__e=d,null!=i&&"function"!=typeof n.type)for(u=i.length;u--;)null!=i[u]&&y(i[u]);for(u=_;u--;)null!=g[u]&&P(g[u],g[u]);if(v)for(u=0;u<v.length;u++)O(v[u],v[++u],v[++u])}function A(t,e,n){if(null==n&&(n=[]),null==t||"boolean"==typeof t)e&&n.push(e(null));else if(Array.isArray(t))for(var r=0;r<t.length;r++)A(t[r],e,n);else n.push(e?e(function(t){if(null==t||"boolean"==typeof t)return null;if("string"==typeof t||"number"==typeof t)return u(null,t,null,null);if(null==t.__e&&null==t.__c)return t;var e=u(t.type,t.props,t.key,null);return e.__e=t.__e,e}(t)):t);return n}function f(t,e,n){"-"===e[0]?t.setProperty(e,n):t[e]="number"==typeof n&&!1===r.test(e)?n+"px":null==n?"":n}function C(t,e,n,r,o){var i,s,l,a,u;if("key"===(e=o?"className"===e?"class":e:"class"===e?"className":e)||"children"===e);else if("style"===e)if(i=t.style,"string"==typeof n)i.cssText=n;else{if("string"==typeof r&&(i.cssText="",r=null),r)for(s in r)n&&s in n||f(i,s,"");if(n)for(l in n)r&&n[l]===r[l]||f(i,l,n[l])}else"o"===e[0]&&"n"===e[1]?(a=e!==(e=e.replace(/Capture$/,"")),e=((u=e.toLowerCase())in t?u:e).slice(2),n?(r||t.addEventListener(e,p,a),(t.t||(t.t={}))[e]=n):t.removeEventListener(e,p,a)):"list"!==e&&"tagName"!==e&&"form"!==e&&!o&&e in t?t[e]=null==n?"":n:"function"!=typeof n&&"dangerouslySetInnerHTML"!==e&&(e!==(e=e.replace(/^xlink:?/,""))?null==n||!1===n?t.removeAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase()):t.setAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase(),n):null==n||!1===n?t.removeAttribute(e):t.setAttribute(e,n))}function p(t){return this.t[t.type](w.event?w.event(t):t)}function m(t,e,n,r,o,i,s,l,a,u){var h,c,f,p,d,v,g,_,y,b,m=e.type;if(void 0!==e.constructor)return null;(h=w.__b)&&h(e);try{t:if("function"==typeof m){if(_=e.props,y=(h=m.contextType)&&r[h.__c],b=h?y?y.props.value:h.__p:r,n.__c?g=(c=e.__c=n.__c).__p=c.__E:("prototype"in m&&m.prototype.render?e.__c=c=new m(_,b):(e.__c=c=new T(_,b),c.constructor=m,c.render=R),y&&y.sub(c),c.props=_,c.state||(c.state={}),c.context=b,c.__n=r,f=c.__d=!0,c.__h=[]),null==c.__s&&(c.__s=c.state),null!=m.getDerivedStateFromProps&&S(c.__s==c.state?c.__s=S({},c.__s):c.__s,m.getDerivedStateFromProps(_,c.__s)),f)null==m.getDerivedStateFromProps&&null!=c.componentWillMount&&c.componentWillMount(),null!=c.componentDidMount&&s.push(c);else{if(null==m.getDerivedStateFromProps&&null==l&&null!=c.componentWillReceiveProps&&c.componentWillReceiveProps(_,b),!l&&null!=c.shouldComponentUpdate&&!1===c.shouldComponentUpdate(_,c.__s,b)){for(c.props=_,c.state=c.__s,c.__d=!1,(c.__v=e).__e=null!=a?a!==n.__e?a:n.__e:null,e.__k=n.__k,h=0;h<e.__k.length;h++)e.__k[h]&&(e.__k[h].__p=e);break t}null!=c.componentWillUpdate&&c.componentWillUpdate(_,c.__s,b)}for(p=c.props,d=c.state,c.context=b,c.props=_,c.state=c.__s,(h=w.__r)&&h(e),c.__d=!1,c.__v=e,c.__P=t,h=c.render(c.props,c.state,c.context),e.__k=A(null!=h&&h.type==M&&null==h.key?h.props.children:h),null!=c.getChildContext&&(r=S(S({},r),c.getChildContext())),f||null==c.getSnapshotBeforeUpdate||(v=c.getSnapshotBeforeUpdate(p,d)),E(t,e,n,r,o,i,s,a,u),c.base=e.__e;h=c.__h.pop();)c.__s&&(c.state=c.__s),h.call(c);f||null==p||null==c.componentDidUpdate||c.componentDidUpdate(p,d,v),g&&(c.__E=c.__p=null)}else e.__e=function(t,e,n,r,o,i,s,l){var a,u,h,c,f=n.props,p=e.props;if(o="svg"===e.type||o,null==t&&null!=i)for(a=0;a<i.length;a++)if(null!=(u=i[a])&&(null===e.type?3===u.nodeType:u.localName===e.type)){t=u,i[a]=null;break}if(null==t){if(null===e.type)return document.createTextNode(p);t=o?document.createElementNS("http://www.w3.org/2000/svg",e.type):document.createElement(e.type),i=null}return null===e.type?f!==p&&(null!=i&&(i[i.indexOf(t)]=null),t.data=p):e!==n&&(null!=i&&(i=k.slice.call(t.childNodes)),h=(f=n.props||x).dangerouslySetInnerHTML,c=p.dangerouslySetInnerHTML,l||(c||h)&&(c&&h&&c.__html==h.__html||(t.innerHTML=c&&c.__html||"")),function(t,e,n,r,o){var i;for(i in n)i in e||C(t,i,null,n[i],r);for(i in e)o&&"function"!=typeof e[i]||"value"===i||"checked"===i||n[i]===e[i]||C(t,i,e[i],n[i],r)}(t,p,f,o,l),e.__k=e.props.children,c||E(t,e,n,r,"foreignObject"!==e.type&&o,i,s,x,l),l||("value"in p&&void 0!==p.value&&p.value!==t.value&&(t.value=null==p.value?"":p.value),"checked"in p&&void 0!==p.checked&&p.checked!==t.checked&&(t.checked=p.checked))),t}(n.__e,e,n,r,o,i,s,u);(h=w.diffed)&&h(e)}catch(t){w.__e(t,e,n)}return e.__e}function d(t,e){for(var n;n=t.pop();)try{n.componentDidMount()}catch(t){w.__e(t,n.__v)}w.__c&&w.__c(e)}function O(t,e,n){try{"function"==typeof t?t(e):t.current=e}catch(t){w.__e(t,n)}}function P(t,e,n){var r,o,i;if(w.unmount&&w.unmount(t),(r=t.ref)&&O(r,null,e),n||"function"==typeof t.type||(n=null!=(o=t.__e)),t.__e=t.l=null,null!=(r=t.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(t){w.__e(t,e)}r.base=r.__P=null}if(r=t.__k)for(i=0;i<r.length;i++)r[i]&&P(r[i],e,n);null!=o&&y(o)}function R(t,e,n){return this.constructor(t,n)}w={},T.prototype.setState=function(t,e){var n=this.__s!==this.state&&this.__s||(this.__s=S({},this.state));"function"==typeof t&&!(t=t(n,this.props))||S(n,t),null!=t&&this.__v&&(this.u=!1,e&&this.__h.push(e),o(this))},T.prototype.forceUpdate=function(t){this.__v&&(t&&this.__h.push(t),this.u=!0,o(this))},T.prototype.render=M,a=[],e="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,n=w.debounceRendering,w.__e=function(t,e,n){for(var r;e=e.__p;)if((r=e.__c)&&!r.__p)try{if(r.constructor&&null!=r.constructor.getDerivedStateFromError)r.setState(r.constructor.getDerivedStateFromError(t));else{if(null==r.componentDidCatch)continue;r.componentDidCatch(t)}return o(r.__E=r)}catch(e){t=e}throw t},s=x;var t="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",l="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?",v="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?",g=new RegExp("rgb"+l),_=new RegExp("rgba"+v),I=new RegExp("hsl"+l),j=new RegExp("hsla"+v),H=new RegExp("^(?:#?|0x?)([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$"),W=new RegExp("^(?:#?|0x?)([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$"),D=new RegExp("^(?:#?|0x?)([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$"),N=new RegExp("^(?:#?|0x?)([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$"),U=Math.log,F=Math.round,$=Math.floor;function L(t,e){var n=-1<t.indexOf("%"),r=parseFloat(t);return n?e/100*r:r}function z(t){return parseInt(t,16)}function B(t){return t.toString(16).padStart(2,"0")}var G=function(t,e){this.$={h:0,s:0,v:0,a:1},t&&this.set(t),this.onChange=e},q={hsv:{configurable:!0},hsva:{configurable:!0},hue:{configurable:!0},saturation:{configurable:!0},value:{configurable:!0},alpha:{configurable:!0},kelvin:{configurable:!0},rgb:{configurable:!0},rgba:{configurable:!0},hsl:{configurable:!0},hsla:{configurable:!0},rgbString:{configurable:!0},rgbaString:{configurable:!0},hexString:{configurable:!0},hex8String:{configurable:!0},hslString:{configurable:!0},hslaString:{configurable:!0}};G.prototype.set=function(t){if("string"==typeof t)/^(?:#?|0x?)[0-9a-fA-F]{3,8}$/.test(t)?this.hexString=t:/^rgba?/.test(t)?this.rgbString=t:/^hsla?/.test(t)&&(this.hslString=t);else{if("object"!=typeof t)throw new Error("Invalid color value");t instanceof G?this.hsv=t.hsv:"object"==typeof t&&"r"in t&&"g"in t&&"b"in t?this.rgb=t:"object"==typeof t&&"h"in t&&"s"in t&&"v"in t?this.hsv=t:"object"==typeof t&&"h"in t&&"s"in t&&"l"in t&&(this.hsl=t)}},G.prototype.setChannel=function(t,e,n){var r;this[t]=Object.assign({},this[t],((r={})[e]=n,r))},G.prototype.clone=function(){return new G(this)},G.hsvToRgb=function(t){var e=t.h/60,n=t.s/100,r=t.v/100,o=$(e),i=e-o,s=r*(1-n),l=r*(1-i*n),a=r*(1-(1-i)*n),u=o%6;return{r:255*[r,l,s,s,a,r][u],g:255*[a,r,r,l,s,s][u],b:255*[s,s,a,r,r,l][u]}},G.rgbToHsv=function(t){var e=t.r/255,n=t.g/255,r=t.b/255,o=Math.max(e,n,r),i=Math.min(e,n,r),s=o-i,l=0,a=o,u=0===o?0:s/o;switch(o){case i:l=0;break;case e:l=(n-r)/s+(n<r?6:0);break;case n:l=(r-e)/s+2;break;case r:l=(e-n)/s+4}return{h:60*l,s:100*u,v:100*a}},G.hsvToHsl=function(t){var e=t.s/100,n=t.v/100,r=(2-e)*n,o=r<=1?r:2-r;return{h:t.h,s:100*(o<1e-9?0:e*n/o),l:50*r}},G.hslToHsv=function(t){var e=2*t.l,n=t.s*(e<=100?e:200-e)/100;return{h:t.h,s:100*(e+n<1e-9?0:2*n/(e+n)),v:(e+n)/2}},G.kelvinToRgb=function(t){var e,n,r,o=t/100;return r=o<66?(e=255,n=-155.25485562709179-.44596950469579133*(n=o-2)+104.49216199393888*U(n),o<20?0:.8274096064007395*(r=o-10)-254.76935184120902+115.67994401066147*U(r)):(e=351.97690566805693+.114206453784165*(e=o-55)-40.25366309332127*U(e),n=325.4494125711974+.07943456536662342*(n=o-50)-28.0852963507957*U(n),255),{r:$(e),g:$(n),b:$(r)}},G.rgbToKelvin=function(t){for(var e,n=t.r,r=t.b,o=1e3,i=4e4;.4<i-o;){var s=G.kelvinToRgb(e=.5*(i+o));s.b/s.r>=r/n?i=e:o=e}return e},q.hsv.get=function(){var t=this.$;return{h:t.h,s:t.s,v:t.v}},q.hsv.set=function(t){var e=this.$;if(t=Object.assign({},e,t),this.onChange){var n={h:!1,v:!1,s:!1,a:!1};for(var r in e)n[r]=t[r]!=e[r];this.$=t,(n.h||n.s||n.v||n.a)&&this.onChange(this,n)}else this.$=t},q.hsva.get=function(){return Object.assign({},this.$)},q.hsva.set=function(t){this.hsv=t},q.hue.get=function(){return this.$.h},q.hue.set=function(t){this.hsv={h:t}},q.saturation.get=function(){return this.$.s},q.saturation.set=function(t){this.hsv={s:t}},q.value.get=function(){return this.$.v},q.value.set=function(t){this.hsv={v:t}},q.alpha.get=function(){return this.$.a},q.alpha.set=function(t){this.hsv=Object.assign({},this.hsv,{a:t})},q.kelvin.get=function(){return G.rgbToKelvin(this.rgb)},q.kelvin.set=function(t){this.rgb=G.kelvinToRgb(t)},q.rgb.get=function(){var t=G.hsvToRgb(this.$),e=t.g,n=t.b;return{r:F(t.r),g:F(e),b:F(n)}},q.rgb.set=function(t){this.hsv=Object.assign({},G.rgbToHsv(t),{a:void 0===t.a?1:t.a})},q.rgba.get=function(){return Object.assign({},this.rgb,{a:this.alpha})},q.rgba.set=function(t){this.rgb=t},q.hsl.get=function(){var t=G.hsvToHsl(this.$),e=t.s,n=t.l;return{h:F(t.h),s:F(e),l:F(n)}},q.hsl.set=function(t){this.hsv=Object.assign({},G.hslToHsv(t),{a:void 0===t.a?1:t.a})},q.hsla.get=function(){return Object.assign({},this.hsl,{a:this.alpha})},q.hsla.set=function(t){this.hsl=t},q.rgbString.get=function(){var t=this.rgb;return"rgb("+t.r+", "+t.g+", "+t.b+")"},q.rgbString.set=function(t){var e,n,r,o,i=1;if((e=g.exec(t))?(n=L(e[1],255),r=L(e[2],255),o=L(e[3],255)):(e=_.exec(t))&&(n=L(e[1],255),r=L(e[2],255),o=L(e[3],255),i=L(e[4],1)),!e)throw new Error("Invalid rgb string");this.rgb={r:n,g:r,b:o,a:i}},q.rgbaString.get=function(){var t=this.rgba;return"rgba("+t.r+", "+t.g+", "+t.b+", "+t.a+")"},q.rgbaString.set=function(t){this.rgbString=t},q.hexString.get=function(){var t=this.rgb;return"#"+B(t.r)+B(t.g)+B(t.b)},q.hexString.set=function(t){var e,n,r,o,i=255;if((e=H.exec(t))?(n=17*z(e[1]),r=17*z(e[2]),o=17*z(e[3])):(e=W.exec(t))?(n=17*z(e[1]),r=17*z(e[2]),o=17*z(e[3]),i=17*z(e[4])):(e=D.exec(t))?(n=z(e[1]),r=z(e[2]),o=z(e[3])):(e=N.exec(t))&&(n=z(e[1]),r=z(e[2]),o=z(e[3]),i=z(e[4])),!e)throw new Error("Invalid hex string");this.rgb={r:n,g:r,b:o,a:i/255}},q.hex8String.get=function(){var t=this.rgba;return"#"+B(t.r)+B(t.g)+B(t.b)+B($(255*t.a))},q.hex8String.set=function(t){this.hexString=t},q.hslString.get=function(){var t=this.hsl;return"hsl("+t.h+", "+t.s+"%, "+t.l+"%)"},q.hslString.set=function(t){var e,n,r,o,i=1;if((e=I.exec(t))?(n=L(e[1],360),r=L(e[2],100),o=L(e[3],100)):(e=j.exec(t))&&(n=L(e[1],360),r=L(e[2],100),o=L(e[3],100),i=L(e[4],1)),!e)throw new Error("Invalid hsl string");this.hsl={h:n,s:r,l:o,a:i}},q.hslaString.get=function(){var t=this.hsla;return"hsl("+t.h+", "+t.s+"%, "+t.l+"%, "+t.a+")"},q.hslaString.set=function(t){this.hslString=t},Object.defineProperties(G.prototype,q);function K(t){var e=t.width,n=t.sliderSize,r=t.borderWidth,o=t.handleRadius,i=t.padding,s="horizontal"===t.layoutDirection;return n=n||2*i+2*o+2*r,"circle"===t.sliderShape?{handleStart:t.padding+t.handleRadius,handleRange:e-2*i-2*o-2*r,width:e,height:e,cx:e/2,cy:e/2,radius:e/2-r/2}:{handleStart:n/2,handleRange:e-n,radius:n/2,x:0,y:0,width:s?n:e,height:s?e:n}}function V(t){var e=K(t),n=e.handleRange,r=e.handleStart,o="horizontal"===t.layoutDirection,i=o?e.width/2:e.height/2,s=r+function(t){var e=t.color.hsva;switch(t.sliderType){case"alpha":return 100*e.a;case"kelvin":var n=t.minTemperature;return Math.max(0,Math.min((t.color.kelvin-n)/(t.maxTemperature-n)*100,100));case"hue":return e.h/=3.6;case"saturation":return e.s;case"value":default:return e.v}}(t)/100*n;return o&&(s=-1*s+n+2*r),{x:o?i:s,y:o?s:i}}function X(t){var e=t.width/2;return{width:t.width,radius:e-t.borderWidth,cx:e,cy:e}}function Y(t,e){var n=t.wheelAngle;return((e="clockwise"===t.wheelDirection?-360+e-n:n-e)%360+360)%360}function J(t){var e=t.width;return{width:e,height:e,radius:t.padding+t.handleRadius}}var Q=document.getElementsByTagName("base");function Z(t){var e=window.navigator.userAgent,n=/^((?!chrome|android).)*safari/i.test(e),r=/iPhone|iPod|iPad/i.test(e),o=window.location;return(n||r)&&0<Q.length?o.protocol+"//"+o.host+o.pathname+o.search+t:t}var tt,et,nt,rt;(et=tt=tt||{}).MouseDown="mousedown",et.MouseMove="mousemove",et.MouseUp="mouseup",et.TouchStart="touchstart",et.TouchMove="touchmove",et.TouchEnd="touchend",(rt=nt=nt||{})[rt.start=0]="start",rt[rt.move=1]="move",rt[rt.end=2]="end";var ot=function(e){function t(t){e.call(this,t),this.uid=(Math.random()+1).toString(36).substring(5)}return e&&(t.__proto__=e),((t.prototype=Object.create(e&&e.prototype)).constructor=t).prototype.render=function(t){var e={onMouseDown:this.handleEvent.bind(this),onTouchStart:this.handleEvent.bind(this)},n={overflow:"visible",display:"vertical"===t.layoutDirection?"block":"inline-block"};return c(M,null,t.children(this.uid,e,n))},t.prototype.handleEvent=function(t){t.preventDefault();var e=t.touches?t.changedTouches[0]:t,n=e.clientX,r=e.clientY,o=this.base.getBoundingClientRect(),i=this.props.onInput;switch(t.type){case tt.MouseDown:case tt.TouchStart:!function(t,e,n,r){for(var o=0;o<e.length;o++)t.addEventListener(e[o],n,r)}(document,[tt.MouseMove,tt.TouchMove,tt.MouseUp,tt.TouchEnd],this,{passive:!1}),i(n,r,o,nt.start);break;case tt.MouseMove:case tt.TouchMove:i(n,r,o,nt.move);break;case tt.MouseUp:case tt.TouchEnd:i(n,r,o,nt.end),function(t,e,n,r){for(var o=0;o<e.length;o++)t.removeEventListener(e[o],n,r)}(document,[tt.MouseMove,tt.TouchMove,tt.MouseUp,tt.TouchEnd],this,{passive:!1})}},t}(T);function it(t){var e=t.r,n=t.url;return c("svg",{className:"IroHandle",x:t.x,y:t.y,style:{overflow:"visible"}},n&&c("use",Object.assign({xlinkHref:Z(n)},t.props)),!n&&c("circle",{r:e,fill:"none","stroke-width":2,stroke:"#000"}),!n&&c("circle",{r:e-2,fill:"none","stroke-width":2,stroke:"#fff"}))}it.defaultProps={x:0,y:0,r:8,url:null,props:{x:0,y:0}};var st=Array.apply(null,{length:360}).map(function(t,e){return e});function lt(o){var r=o.borderWidth,i=o.color.hsv,t=X(o),s=t.width,l=t.radius,a=t.cx,u=t.cy,h=function(t){var e=t.color.hsv,n=X(t),r=n.cx,o=n.cy,i=t.width/2-t.padding-t.handleRadius-t.borderWidth,s=Y(t,e.h)*(Math.PI/180),l=e.s/100*i,a="clockwise"===t.wheelDirection?-1:1;return{x:r+l*Math.cos(s)*a,y:o+l*Math.sin(s)*a}}(o);return c(ot,{onInput:function(t,e,n,r){o.parent.inputActive=!0,o.color.hsv=function(t,e,n,r){var o=X(t),i=t.width/2-t.padding-t.handleRadius-t.borderWidth;e=o.cx-(e-r.left),n=o.cy-(n-r.top);var s=Y(t,Math.atan2(-n,-e)*(180/Math.PI)),l=Math.min(Math.sqrt(e*e+n*n),i);return{h:Math.round(s),s:Math.round(100/i*l)}}(o,t,e,n),o.onInput(r)}},function(t,e,n){return c("svg",Object.assign({},e,{className:"IroWheel",width:s,height:s,style:n}),c("defs",null,c("radialGradient",{id:t},c("stop",{offset:"0%","stop-color":"#fff"}),c("stop",{offset:"100%","stop-color":"#fff","stop-opacity":"0"}))),c("g",{className:"IroWheelHue","stroke-width":l,fill:"none"},st.map(function(t){return c("path",{key:t,d:function(t,e,n,r,o){var i=o-r<=180?0:1;return r*=Math.PI/180,o*=Math.PI/180,"M "+(t+n*Math.cos(o))+" "+(e+n*Math.sin(o))+" A "+n+" "+n+" 0 "+i+" 0 "+(t+n*Math.cos(r))+" "+(e+n*Math.sin(r))}(a,u,l/2,t,t+1.5),stroke:"hsl("+Y(o,t)+", 100%, 50%)"})})),c("circle",{className:"IroWheelSaturation",cx:a,cy:u,r:l,fill:"url("+Z("#"+t)+")"}),o.wheelLightness&&c("circle",{className:"IroWheelLightness",cx:a,cy:u,r:l,fill:"#000",opacity:1-i.v/100}),c("circle",{className:"IroWheelBorder",cx:a,cy:u,r:l,fill:"none",stroke:o.borderColor,"stroke-width":r}),c(it,{r:o.handleRadius,url:o.handleSvg,props:o.handleProps,x:h.x,y:h.y}))})}function at(i){var t=K(i),r=t.width,o=t.height,s=t.radius,l=V(i),a=function(t){var e=t.color.hsv;switch(t.sliderType){case"alpha":var n=t.color.rgb;return[[0,"rgba("+n.r+","+n.g+","+n.b+",0)"],[100,"rgb("+n.r+","+n.g+","+n.b+")"]];case"kelvin":for(var r=[],o=t.minTemperature,i=t.maxTemperature,s=i-o,l=o,a=0;l<i;l+=s/8,a+=1){var u=G.kelvinToRgb(l);r.push([12.5*a,"rgb("+u.r+","+u.g+","+u.b+")"])}return r;case"hue":return[[0,"#f00"],[16.666,"#ff0"],[33.333,"#0f0"],[50,"#0ff"],[66.666,"#00f"],[83.333,"#f0f"],[100,"#f00"]];case"saturation":var h=G.hsvToHsl({h:e.h,s:0,v:e.v}),c=G.hsvToHsl({h:e.h,s:100,v:e.v});return[[0,"hsl("+h.h+","+h.s+"%,"+h.l+"%)"],[100,"hsl("+c.h+","+c.s+"%,"+c.l+"%)"]];case"value":default:var f=G.hsvToHsl({h:e.h,s:e.s,v:100});return[[0,"#000"],[100,"hsl("+f.h+","+f.s+"%,"+f.l+"%)"]]}}(i),u="alpha"===i.sliderType;return c(ot,{onInput:function(t,e,n,r){var o=function(t,e,n,r){var o,i=K(t),s=i.handleRange,l=i.handleStart;o="horizontal"===t.layoutDirection?-1*(n-r.top)+s+l:e-(r.left+l),o=Math.max(Math.min(o,s),0);var a=Math.round(100/s*o);switch(t.sliderType){case"kelvin":var u=t.minTemperature;return u+a/100*(t.maxTemperature-u);case"alpha":return a/100;case"hue":return 3.6*a;default:return a}}(i,t,e,n);i.parent.inputActive=!0,i.color[i.sliderType]=o,i.onInput(r)}},function(t,e,n){return c("svg",Object.assign({},e,{className:"IroSlider",width:r,height:o,style:Object.assign({},n,function(t){var e;return(e={})["horizontal"===t.layoutDirection?"marginLeft":"marginTop"]=t.sliderMargin,e}(i))}),c("defs",null,c("linearGradient",Object.assign({id:"g"+t},function(t){var e="horizontal"===t.layoutDirection;return{x1:"0%",y1:e?"100%":"0%",x2:e?"0%":"100%",y2:"0%"}}(i)),a.map(function(t){return c("stop",{offset:t[0]+"%","stop-color":t[1]})})),u&&c("pattern",{id:"b"+t,width:"8",height:"8",patternUnits:"userSpaceOnUse"},c("rect",{x:"0",y:"0",width:"8",height:"8",fill:"#fff"}),c("rect",{x:"0",y:"0",width:"4",height:"4",fill:"#ccc"}),c("rect",{x:"4",y:"4",width:"4",height:"4",fill:"#ccc"})),u&&c("pattern",{id:"f"+t,width:"100%",height:"100%"},c("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url("+Z("#b"+t)+")"})," }",c("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url("+Z("#g"+t)+")"}))),c("rect",{className:"IroSliderBg",rx:s,ry:s,x:i.borderWidth/2,y:i.borderWidth/2,width:r-i.borderWidth,height:o-i.borderWidth,"stroke-width":i.borderWidth,stroke:i.borderColor,fill:"url("+Z((u?"#f":"#g")+t)+")"}),c(it,{r:i.handleRadius,url:i.handleSvg,props:i.handleProps,x:l.x,y:l.y}))})}at.defaultProps=Object.assign({},{sliderShape:"bar",sliderType:"value",minTemperature:2200,maxTemperature:11e3});var ut=function(e){function i(t){e.call(this,t),this.inputActive=!1,this.events={},this.deferredEvents={},this.colorUpdateActive=!1,this.emitHook("init:before"),this.id=t.id,this.defaultColor=t.color,this.color=new G(t.color,this.onColorChange.bind(this)),this.deferredEmit("color:init",this.color),this.state=Object.assign({},t,{ref:void 0,color:this.color,layout:null!==t.layout?t.layout:[{component:lt,options:{}},{component:at,options:{}}]}),this.emitHook("init:state"),this.emitHook("init:after")}return e&&(i.__proto__=e),((i.prototype=Object.create(e&&e.prototype)).constructor=i).prototype.on=function(t,e){var n=this,r=this.events;(Array.isArray(t)?t:[t]).forEach(function(t){n.emitHook("event:on",t,e),(r[t]||(r[t]=[])).push(e),n.deferredEvents[t]&&(n.deferredEvents[t].forEach(function(t){e.apply(null,t)}),n.deferredEvents[t]=[])})},i.prototype.off=function(t,n){var r=this;(Array.isArray(t)?t:[t]).forEach(function(t){var e=r.events[t];r.emitHook("event:off",t,n),e&&e.splice(e.indexOf(n),1)})},i.prototype.emit=function(t){for(var e,n=[],r=arguments.length-1;0<r--;)n[r]=arguments[r+1];(e=this).emitHook.apply(e,[t].concat(n));for(var o=this.events[t]||[],i=0;i<o.length;i++)o[i].apply(this,n)},i.prototype.deferredEmit=function(t){for(var e,n=[],r=arguments.length-1;0<r--;)n[r]=arguments[r+1];var o=this.deferredEvents;(e=this).emit.apply(e,[t].concat(n)),(o[t]||(o[t]=[])).push(n)},i.prototype.updateOptions=function(t){this.setState(Object.assign({},this.state,t))},i.prototype.resize=function(t){this.updateOptions({width:t})},i.prototype.reset=function(){this.color.set(this.defaultColor)},i.addHook=function(t,e){var n=i.pluginHooks;(n[t]||(n[t]=[])).push(e)},i.prototype.emitHook=function(t){for(var e=[],n=arguments.length-1;0<n--;)e[n]=arguments[n+1];for(var r=i.pluginHooks[t]||[],o=0;o<r.length;o++)r[o].apply(this,e)},i.prototype.onMount=function(t){this.el=t,this.deferredEmit("mount",this)},i.prototype.onColorChange=function(t,e){this.emitHook("color:beforeUpdate",t,e),this.setState({color:t}),this.emitHook("color:afterUpdate",t,e),this.colorUpdateActive||(this.colorUpdateActive=!0,this.inputActive&&(this.inputActive=!1,this.emit("input:change",t,e)),this.emit("color:change",t,e),this.colorUpdateActive=!1)},i.prototype.handleInput=function(t){t===nt.start&&this.emit("input:start",this.color),t===nt.move&&this.emit("input:move",this.color),t===nt.end&&this.emit("input:end",this.color)},i.prototype.render=function(t,r){var e,o=this;return c("div",{class:"IroColorPicker",id:r.id,style:(e={display:r.display},e["vertical"===t.layoutDirection?"width":"height"]=r.width,e)},r.layout.map(function(t){var e=t.component,n=t.options;return c(e,Object.assign({},r,n,{onInput:o.handleInput.bind(o),parent:o}))}))},i}(T);ut.pluginHooks={},ut.defaultProps=Object.assign({},{width:300,height:300,handleRadius:8,handleSvg:null,handleProps:{x:0,y:0},color:"#fff",borderColor:"#fff",borderWidth:0,wheelLightness:!0,wheelAngle:0,wheelDirection:"anticlockwise",layoutDirection:"vertical",sliderSize:null,sliderMargin:12,padding:6},{display:"block",id:null,layout:null});var ht,ct,ft,pt=(dt.prototype=(ht=ut).prototype,Object.assign(dt,ht),dt.__component=ht,dt);function dt(e,t){var n,r=document.createElement("div");function o(){var t=e instanceof Element?e:document.querySelector(e);t.appendChild(n.base),n.onMount(t)}return function(t,e,n){var r,o,i;w.__p&&w.__p(t,e),o=(r=n===s)?null:n&&n.__k||e.__k,t=c(M,null,[t]),i=[],m(e,r?e.__k=t:(n||e).__k=t,o||x,x,void 0!==e.ownerSVGElement,n&&!r?[n]:o?null:k.slice.call(e.childNodes),i,!1,n||x,r),d(i,t)}(c(ht,Object.assign({},{ref:function(t){return n=t}},t)),r),"loading"!==document.readyState?o():document.addEventListener("DOMContentLoaded",o),n}return ft=[],(ct={Color:G,ColorPicker:pt,ui:{h:c,ComponentBase:ot,Handle:it,Slider:at,Wheel:lt,Box:function(o){var t=J(o),r=t.width,i=t.height,s=t.radius,l=function(t){return[[[0,"#fff"],[100,"hsl("+t.color.hue+",100%,50%)"]],[[0,"rgba(0,0,0,0)"],[100,"#000"]]]}(o),a=function(t){var e=J(t),n=e.radius,r=t.color.hsv,o=e.height-2*n;return{x:n+r.s/100*(e.width-2*n),y:n+(o-r.v/100*o)}}(o);return c(ot,{onInput:function(t,e,n,r){o.parent.inputActive=!0,o.color.hsv=function(t,e,n,r){var o=J(t),i=o.radius,s=(n-=r.top+i)/(o.height-2*i)*100;return{s:Math.max(0,Math.min((e-=r.left+i)/(o.width-2*i)*100,100)),v:Math.max(0,Math.min(100-s,100))}}(o,t,e,n),o.onInput(r)}},function(t,e,n){return c("svg",Object.assign({},e,{className:"IroBox",width:r,height:i,style:Object.assign({},n,function(t){var e;return(e={})["horizontal"===t.layoutDirection?"marginLeft":"marginTop"]=t.sliderMargin,e}(o))}),c("defs",null,c("linearGradient",{id:"s"+t,x1:"0%",y1:"0%",x2:"100%",y2:"0%"},l[0].map(function(t){return c("stop",{offset:t[0]+"%","stop-color":t[1]})})),c("linearGradient",{id:"l"+t,x1:"0%",y1:"0%",x2:"0%",y2:"100%"},l[1].map(function(t){return c("stop",{offset:t[0]+"%","stop-color":t[1]})})),c("pattern",{id:"f"+t,width:"100%",height:"100%"},c("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url("+Z("#s"+t)+")"})," }",c("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url("+Z("#l"+t)+")"}))),c("rect",{rx:s,ry:s,x:o.borderWidth/2,y:o.borderWidth/2,width:r-o.borderWidth,height:i-o.borderWidth,"stroke-width":o.borderWidth,stroke:o.borderColor,fill:"url("+Z("#f"+t)+")"}),c(it,{r:o.handleRadius,url:o.handleSvg,props:o.handleProps,x:a.x,y:a.y}))})}},version:"5.0.0"}).use=function(t,e){void 0===e&&(e={}),-1<ft.indexOf(t)||(t(ct,e),ft.push(t))},ct.installedPlugins=ft,ct});
//# sourceMappingURL=iro.min.js.map
